<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>linux on vincent-gou (fr)</title><link>https://vincent-gou.github.io/tags/linux/</link><description>Recent content in linux on vincent-gou (fr)</description><generator>Hugo -- gohugo.io</generator><language>fr</language><copyright>Tous droits reserves: Vincent Gourrierec</copyright><lastBuildDate>Tue, 11 Jun 2019 00:00:00 +0000</lastBuildDate><atom:link href="https://vincent-gou.github.io/tags/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>Paramétrage SFTP sécurisé complet</title><link>https://vincent-gou.github.io/post/security_sftp_and_chroot_config/</link><pubDate>Tue, 11 Jun 2019 00:00:00 +0000</pubDate><guid>https://vincent-gou.github.io/post/security_sftp_and_chroot_config/</guid><description>ObjectifsFournir un accès sécurisé à des ressources sur un serveur Linux via SFTP.Les comptes SFTP n’auront accès qu’à la ressources autorisées.Un compte d’administration pourra gérer les ressources des autres comptes. Mode de fonctionnement cible utilisateur Mode de fonctionnement cible administrateur ContrôlesContrôle activation SFTP dans SSHD[root@server /]# cat /etc/ssh/sshd_config .... # override default of no subsystems Subsystem sftp /usr/libexec/openssh/sftp-server Création de l’arborescencemkdir -p /directory chmod 700 /directory Example:
[root@server /]# mkdir -p /data/sftp [root@server /]# chmod 700 /data Création du groupe et des users SFTPgroupadd sftp_users 1 useradd -g sftp_users -d / -s /sbin/nologin USER1 2 useradd -g sftp_users -d / -s /sbin/nologin USER2 3 useradd -g sftp_users -d / -s /sbin/nologin USER3 4 useradd -g sftp_users -d / -s /sbin/nologin USER4 5Nom du groupe auquel appartiendront tous les utilisateurs SFTP crées.</description></item></channel></rss>