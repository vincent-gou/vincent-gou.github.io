<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Grafana on vincent-gou (fr)</title><link>https://www.vincent-gou.fr/tags/grafana/</link><description>Recent content in Grafana on vincent-gou (fr)</description><generator>Hugo</generator><language>fr</language><copyright>Tous droits reserves: Vincent Gourrierec</copyright><lastBuildDate>Fri, 11 Dec 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://www.vincent-gou.fr/tags/grafana/index.xml" rel="self" type="application/rss+xml"/><item><title>Affichage des logs LOKI dans une annotation GRAFANA</title><link>https://www.vincent-gou.fr/post/grana_loki_annotations/</link><pubDate>Fri, 11 Dec 2020 00:00:00 +0000</pubDate><guid>https://www.vincent-gou.fr/post/grana_loki_annotations/</guid><description>&lt;div class="paragraph">
&lt;p>Il est possible d’afficher certaines logs provenant de LOKI en tant qu’annotations dans Grafana.&lt;/p>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_objectifs">1. Objectifs&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>Permettre d’afficher les logs LOKI en tant qu’annotations dans un dashboard Grafana.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div>
&lt;div class="paragraph">
&lt;p>Exemple d’un bouton permettant d’afficher les erreurs d’authentification détectées dans les fichiers de logs et tracés dans LOKI, en tant qu’annotations dans les graphiques.&lt;/p>
&lt;/div>
&lt;div class="imageblock right text-center">
&lt;div class="content">
&lt;img src="../../images/GRANA_LOKI_Annotations.fr-b10dd.png" alt="700" width="500"/>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_pré_requis">2. Pré-requis&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>Disposer d’une datasource LOKI configurée dans GRAFANA&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Possibilité d’utiliser une variable du dashboard pour effectuer la recherche des entrées dans LOKI.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div></description></item><item><title>Variablisation des annotations dans Grafana</title><link>https://www.vincent-gou.fr/post/grafana_annotation_variables/</link><pubDate>Wed, 09 Dec 2020 00:00:00 +0000</pubDate><guid>https://www.vincent-gou.fr/post/grafana_annotation_variables/</guid><description>&lt;div class="paragraph">
&lt;p>Si vous avez essayé d’afficher des annotations selon une variable définie sur un dashboard sans succès, cette page est faite pour vous.&lt;/p>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_objectifs">1. Objectifs&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>Permettre d’afficher les annotations liées à une variable sur un dashboard&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_pré_requis">2. Pré-requis&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>Disposer d’un dashboard par client&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Disposer d’un dashboard d’administration de tous les clients avec une variable permettant de cibler le critère de sélection.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_préparation">3. Préparation&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="sect2">
&lt;h3 id="_dashboard_client">3.1. Dashboard client&lt;/h3>
&lt;div class="paragraph">
&lt;p>Dans le menu &amp;#34;Dashboard settings&amp;#34; / Annotations, sélectionnez la ligne par défaut : &amp;#34;Annotations &amp;amp; Alerts (Built-in)&amp;#34; ou créez une nouvelle annotation.&lt;/p>
&lt;/div></description></item><item><title>Paramétrage PROMTAIl en tant que service Windows</title><link>https://www.vincent-gou.fr/post/promtail_windows_service/</link><pubDate>Thu, 02 Jul 2020 00:00:00 +0000</pubDate><guid>https://www.vincent-gou.fr/post/promtail_windows_service/</guid><description>&lt;div class="sect1">
&lt;h2 id="_objectifs">Objectifs&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>Permettre le démarrage du processus promtail avec Windows&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_pré_requis">Pré-requis&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>NSSM, téléchargeable ici: &lt;a href="https://nssm.cc/release/nssm-2.24.zip" class="bare">https://nssm.cc/release/nssm-2.24.zip&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>promtail pour Windows, téléchargeable ici: &lt;a href="https://github.com/grafana/loki/releases" class="bare">https://github.com/grafana/loki/releases&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configuration promtail fonctionnelle (fichier de config yml)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_préparation">Préparation&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>Décompressez les sources NSSM et placez les dans le répertoire ou se trouve promtail&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div>
&lt;div class="admonitionblock note">
&lt;table>
&lt;tbody>&lt;tr>
&lt;td class="icon">
&lt;div class="title">Note&lt;/div>
&lt;/td>
&lt;td class="content">
Pour les besoins de cet exemple, l’emplacement commun à promtail et nssm sera &amp;#34;c:\Program Files\telegraf\&amp;#34;
&lt;/td>
&lt;/tr>
&lt;/tbody>&lt;/table>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_création_du_service_promtail">Création du service promtail&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="paragraph">
&lt;p>Lancez une commande Windows, puis tapez les commandes suivantes:&lt;/p>
&lt;/div></description></item></channel></rss>